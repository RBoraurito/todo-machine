var M=Object.defineProperty,k=Object.defineProperties;var L=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var N=(t,e,s)=>e in t?M(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,y=(t,e)=>{for(var s in e||(e={}))A.call(e,s)&&N(t,s,e[s]);if(v)for(var s of v(e))j.call(e,s)&&N(t,s,e[s]);return t},S=(t,e)=>k(t,L(e));import{r as c,j as _,R as C,a as w}from"./vendor.86f66cac.js";const $=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function s(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(o){if(o.ep)return;o.ep=!0;const n=s(o);fetch(o.href,n)}};$();function D(t,e){const[s,a]=c.exports.useState(e),[o,n]=c.exports.useState(!0),[l,f]=c.exports.useState("");return c.exports.useEffect(()=>{const i=localStorage.getItem(t);let p=e;setTimeout(()=>{try{i?p=JSON.parse(i):(localStorage.setItem(t,JSON.stringify(e)),p=JSON.parse(localStorage.getItem(t)))}catch{f("Ha ocurrido un error")}a(p),n(!1)},2e3)},[]),{items:s,saveItems:i=>{try{localStorage.setItem(t,JSON.stringify(i)),a(i)}catch{f("Ha ocurrido un error")}},loading:o,error:l}}const r=_.exports.jsx,u=_.exports.jsxs,h=c.exports.createContext();function E(t){const{items:e,saveItems:s,loading:a,error:o}=D("todos",[]),[n,l]=c.exports.useState(""),[f,T]=c.exports.useState(!1),i=e.filter(d=>d.completed).length,p=d=>{const g=e.map(m=>m.text===d?S(y({},m),{completed:!m.completed}):m);s(g)},O=d=>{s(...e,d)},b=d=>{const g=e.filter(m=>m.text!==d);s(g)},I=d=>{l(d.target.value)},x=[];return n.length===0?x.push(...e):x.push(...e.filter(d=>d.text.toLowerCase().includes(n.toLowerCase()))),r(h.Provider,{value:{searchedTodos:x,uncompletedTodos:i,loading:a,error:o,toggleTodo:p,removeTodo:b,search:n,handleSearch:I,isOpenModal:f,setOpenModal:T,addTodo:O},children:t.children})}const H=()=>{const{searchedTodos:t,uncompletedTodos:e}=c.exports.useContext(h);return u("header",{className:"todo-header",children:[r("h1",{children:"TODO App"}),u("h2",{children:["Has realizado ",e," de ",t.length," TODOs"]})]})};const P=()=>{const{handleSearch:t}=c.exports.useContext(h);return r("input",{className:"todo__search",type:"search",name:"search",id:"search",placeholder:"Search your items",onInput:t})};const R=({children:t})=>r("section",{className:"todo__list",children:r("ul",{children:t})});const J=({todo:t,toggle:e,remove:s})=>{const a=()=>{e(t.text)},o=()=>{s(t.text)};return u("li",{className:`todo__item ${t.completed&&"checked"}`,children:[r("button",{type:"button",className:"todo__item__check",onClick:a}),r("p",{onClick:a,children:t.text}),r("button",{className:"close-button",onClick:o,children:"x"})]})};const B=()=>{const{setOpenModal:t,isOpenModal:e}=c.exports.useContext(h);return r("button",{type:"button",className:"todo__create-button",onClick:()=>{t(!e)},children:"A\xF1adir TODO"})};const q=()=>{const{addTodo:t,setOpenModal:e}=c.exports.useContext(h);return u("form",{onSubmit:o=>{o.preventDefault(),o.target},className:"modal__body",children:[r("legend",{children:"Add a new todo"}),r("textarea",{placeholder:"Go to the market",name:"todo",id:"",cols:"30",rows:"10",required:!0}),u("div",{className:"modal__buttons",children:[r("button",{type:"button",className:"cancel",onClick:()=>{e(!1)},children:"Cancel"}),r("button",{type:"submit",children:"Add todo"})]})]})};function F({children:t}){return C.createPortal(t,document.getElementById("modal"))}function z(){const{searchedTodos:t,loading:e,error:s,toggleTodo:a,removeTodo:o,isOpenModal:n}=c.exports.useContext(h);return u("main",{className:"todo",children:[r(H,{}),r(P,{}),u(R,{children:[t.map(l=>r(J,{todo:l,toggle:a,remove:o,className:"checked"},l.text)),t.length===0&&!e&&r("p",{className:"todo__message",children:"No hay tareas"}),e&&r("p",{className:"todo__message",children:"Cargando..."}),s&&r("p",{className:"todo__message",children:"Error al cargar las tareas"})]}),r(F,{children:r("div",{className:"modal",style:{display:n?"flex":"none"},children:r(q,{})})}),r(B,{})]})}C.render(r(w.StrictMode,{children:r(E,{children:r(z,{})})}),document.getElementById("root"));
